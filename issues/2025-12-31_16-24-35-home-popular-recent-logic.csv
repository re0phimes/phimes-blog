"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"HOMELOG-010","P0","1","frontend","盘点首页 Popular/Recent 链路并落盘","梳理 theme.postData → Highlights selector → 首页 feed（去重/分页/展示）的现状规则，解释“看起来不按 Recent”的根因，形成可复用说明以支撑后续决策。","落盘一份可复用说明（代码注释或 markdown，≤50 行），内容包含：1) postData 生成与排序（top 优先 + date 倒序，date 的兜底来源）；2) Most Popular 选择顺序（curated → popularRank/popular → top → date）；3) Recent Posts 选择顺序（date desc，tie: lastModified/regularPath）；4) 首页文章流为何可能“不是最新”（Highlights 去重导致列表从第 N+1 条开始）。说明中必须包含指向源码的 path:line 证据；除注释/文档外不改动业务逻辑。","AUTOFRONTEND","Review 说明是否严格与源码一致；落盘位置是否长期可维护（优先贴近实现文件）；不得引入 window/document 依赖到 selector 模块。","运行 npm run build 确认仅注释/文档变更不影响构建；首页与标签页基础渲染无异常。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:19;.vitepress/theme/utils/homeSections.mjs:16;.vitepress/theme/views/Home.vue:66;.vitepress/theme/utils/getPostData.mjs:33;.vitepress/theme/components/HomeHighlights.vue:1",""
"HOMELOG-020","P0","2","frontend","明确 Most Popular 语义与 Recent 定义/首页策略","把 Most Popular 的语义（精选 vs 热度）、Recent 的时间字段（date vs lastModified）以及首页列表与 Highlights 的关系（去重/连续/允许重复）做成显式决策，并沉淀成可配置/可回滚的方案。","决策落盘且可执行：1) 明确 Most Popular 选择 A(精选/策展) 或 B(热度/外部缓存)；2) 明确 Recent 的排序字段（date 或 lastModified）与时间展示口径；3) 明确首页 feed 策略（仅保留 Most Popular 高亮 / 允许重复 / 连续接续 N+1）并给出回滚方式；4) 若新增配置字段，需有枚举值、默认值保持向后兼容（不改用户配置也能 build）。","AUTOFRONTEND","Review 配置命名是否清晰且可枚举；默认值必须保持当前行为（除非明确同意 breaking change）；策略需可回滚。","在默认配置下 npm run build 通过；（若新增配置）切换到其它策略值应不崩溃且行为符合描述。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:25;.vitepress/theme/assets/themeConfig.mjs:30;.vitepress/theme/utils/homeSections.mjs:149;.vitepress/theme/views/Home.vue:90",""
"HOMELOG-030","P0","3","frontend","Most Popular 规则对齐与数据源增强","实现/完善 Most Popular 的可解释排序：优先策展/字段排序，并可选接入构建期 externalCache（popular.json）驱动 popularRank；必要时调整标题/注释避免语义误导。","满足以下至少一项落地且可验证：A) 作为“精选/推荐”时，排序规则清晰且稳定（curated 或 popular_rank 驱动），不会因为 top/date 兜底导致语义漂移；或 B) 作为“热度排行”时，externalCache=enable 后能从 data/popular.json 合并 popularRank（缺失/解析失败不阻塞 build），Most Popular 依据 popularRank 排序；并在文档/注释中说明 popular.json 支持的 schema 与回滚（关掉 externalCache/移除文件）。npm run build 通过。","AUTOFRONTEND","Review 构建期合并必须 best-effort（不抛异常阻塞构建）；不得引入网络依赖；确保 popularRank 为有限数值；确保 selector 仍为纯函数。","npm run build（externalCache=disable）通过；（可选）提供一份最小 data/popular.json 并启用 externalCache 后再次 build，确认 Most Popular 顺序发生可预期变化。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:37;.vitepress/theme/utils/homeSections.mjs:16;.vitepress/config.mjs:24;.vitepress/theme/assets/themeConfig.mjs:37;.vitepress/theme/utils/getPostData.mjs:65",""
"HOMELOG-040","P0","4.1","frontend","调整首页默认 feed 与 Highlights 关系（连续/去重策略）","让首页默认文章流符合“Recent 为主”的直觉，避免因 Highlights 去重导致列表从中间开始；选择并实现一种明确策略（可配置/可回滚）。","选择并落地以下策略之一（写入配置/文档并可回滚）：1) 首页仅保留 Most Popular 高亮，Recent 高亮移除/折叠；2) 保留两块高亮但首页列表允许重复（不去重）；3) 保留去重但首页列表连续接续（高亮展示前 N 条，列表从 N+1 开始，整体仍保持 Recent 顺序）。首页 / 的主列表第一屏不再出现“看起来不是最新”的错觉；分类/标签页不受影响；npm run build 通过。","AUTOFRONTEND","Review 逻辑需 SSR-safe（selector 不得访问 window/document）；去重必须基于稳定 id；分页行为需与策略一致且不引入横向滚动/闪烁。","手动回归：访问 / 与 /page/2；检查高亮区与列表的重复/缺失是否符合策略；访问任意 /posts/ 页面确保导航与侧边栏正常；运行 npm run build。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:48;.vitepress/theme/views/Home.vue:66;.vitepress/theme/utils/homeSections.mjs:149;.vitepress/theme/components/HomeHighlights.vue:1;.vitepress/theme/assets/themeConfig.mjs:30",""
"HOMELOG-050","P0","4.2","frontend","Recent Posts 排序与时间显示一致性修复","确保 Recent Posts 的排序字段与 UI 时间展示一致且易理解：默认按 date 倒序，必要时修复 date 解析/时区问题，并避免 formatTimestamp 造成顺序误读。","Recent Posts 的排序口径明确且一致：1) selector 明确按 date 倒序（tie: lastModified/regularPath 或明确替代）；2) 如果存在 date 解析/时区导致的错序，修复并补最小说明；3) formatTimestamp 对未来日期/边界条件的输出不会造成“今日内但排在很后/很前”的误解（例如未来日期显示明确日期或“未来”提示）。首页高亮 Recent 列表在肉眼观察下与排序口径一致；npm run build 通过。","AUTOFRONTEND","Review date vs lastModified 的选择需与产品语义一致；不得破坏现有文章 frontmatter；时间格式变更需兼容中英文/旧数据。","至少用 3 篇文章样本覆盖：未来日期/当年日期/跨年日期，确认显示与顺序合理；访问 / 与任意 posts 页面确认无异常；运行 npm run build。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:53;.vitepress/theme/utils/homeSections.mjs:104;.vitepress/theme/utils/getPostData.mjs:30;.vitepress/theme/utils/helper.mjs:69;.vitepress/theme/components/HomeHighlights.vue:30",""
"HOMELOG-060","P1","5","frontend","首页 Recent + Tag 过滤（入口与行为定义）","在不破坏现有 tags 路由的前提下提供“首页默认 recent + 可按 tag 选择过滤”的交互：补齐 tags 导航条的“首页/全部”入口，必要时支持 query filter。","满足：1) 首页 / 提供明确的 Tag 选择入口（复用 TypeBar 或现有 tags 页面），选择后文章流按该 tag 过滤且仍保持 Recent 顺序；2) 提供一键回到“全部/首页”的入口；3) 分页语义清晰（使用 /pages/tags/<tag> 路由或 /?tag=<tag> query，需在代码/文档明确）；4) 不影响现有 /pages/tags 与 /pages/tags/<tag> 页面；npm run build 通过。","AUTOE2E","Review 路由/链接保持 SEO 友好且不引入 breaking change；确保 tags 的“首页/全部”入口不会在当前 tag 视图下丢失；避免把过滤逻辑写到 SSR 不可用的位置。","手动回归：/ → 选择一个 tag → 切换/取消过滤 → 检查列表/分页；访问 /pages/tags 与 /pages/tags/<tag>；运行 npm run build。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:57;.vitepress/theme/components/List/TypeBar.vue:1;.vitepress/theme/views/Home.vue:1;.vitepress/theme/views/CatOrTag.vue:1",""
"HOMELOG-070","P0","6","frontend","验证与回归：首页 Popular/Recent/Tag 逻辑","执行构建与手工回归，覆盖首页、分页、标签过滤与时间显示，记录证据并确保可复现。","至少完成并记录证据：1) npm run build 通过；2) 手动验证 / 与 /page/2（确认列表顺序与高亮策略一致）；3) 手动验证 /pages/tags/<tag> 或首页 tag 过滤（确认过滤与“全部/首页”返回逻辑）；4) 验证 Recent 时间显示在 2 个 viewport（桌面/移动）无明显误导；5) notes/evidence 中记录截图或录屏路径与复现步骤。若受限无法 GUI 验证，必须记录 validation_limited/manual_test/risk。","AUTOE2E","Review 验收步骤可复现且覆盖“顺序+语义+过滤+分页”；证据应包含命令输出与页面检查要点。","复跑 npm run build；对 /、/page/2、/pages/tags/<tag>、任一 /posts/ 页面做 smoke test，确保无控制台异常与明显 UI 回归。","未开始","未开始","未开始","未提交","","plan/2025-12-31_15-29-15-home-popular-recent-logic.md:62;package.json:1;.vitepress/theme/views/Home.vue:1;.vitepress/theme/utils/homeSections.mjs:149;.vitepress/theme/components/List/TypeBar.vue:1",""
